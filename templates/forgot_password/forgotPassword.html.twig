{% extends 'base.html.twig' %}

{% block title %}Mot de passe oublié{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/motPasseOublie.css') }}">
    <style>
        /* Override form control styles */
        .forgot-password-form input[type="email"],
        .forgot-password-form input[type="text"],
        .forgot-password-form input[type="password"] {
            background-color: #ffffff !important;
            color: #000000 !important;
            -webkit-text-fill-color: #000000 !important;
            border: 2px solid #ddd !important;
            font-size: 16px !important;
        }

        .forgot-password-form input:-webkit-autofill,
        .forgot-password-form input:-webkit-autofill:hover,
        .forgot-password-form input:-webkit-autofill:focus,
        .forgot-password-form input:-webkit-autofill:active {
            -webkit-box-shadow: 0 0 0 30px white inset !important;
            -webkit-text-fill-color: #000000 !important;
        }

        .forgot-password-form .form-control:focus {
            border-color: #007bff !important;
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.25) !important;
            background-color: #ffffff !important;
            color: #000000 !important;
        }

        .forgot-password-form .form-group label {
            color: #333333 !important;
            font-weight: 500 !important;
            margin-bottom: 8px !important;
            display: block !important;
        }
    </style>
{% endblock %}

{% block body %}
<div class="forgot-password-container">
    <div class="forgot-password-box">
        <h1>Mot de passe oublié</h1>
        <p class="description">Entrez votre adresse email pour réinitialiser votre mot de passe.</p>

        {{ form_start(form, {'attr': {'class': 'forgot-password-form'}}) }}
            {% if not form.vars.valid and form_errors(form)|length > 0 %}
                <div class="alert alert-danger">
                    {{ form_errors(form) }}
                </div>
            {% endif %}

            <div class="form-group">
                {{ form_label(form.email, 'Email', {'label_attr': {'style': 'color: #333333; font-weight: 500;'}}) }}
                {{ form_widget(form.email, {
                    'attr': {
                        'class': 'form-control',
                        'style': 'background-color: #ffffff !important; color: #000000 !important; -webkit-text-fill-color: #000000 !important; border: 2px solid #ddd; padding: 12px; border-radius: 5px; width: 100%; font-size: 16px;'
                    }
                }) }}
                {% if form_errors(form.email)|length > 0 %}
                    <div class="error-message">
                        {{ form_errors(form.email) }}
                    </div>
                {% endif %}
            </div>

            <div class="form-group">
                {{ form_widget(form.submit, {
                    'attr': {
                        'class': 'btn btn-primary',
                        'style': 'width: 100%; padding: 12px; background-color: #007bff; color: white; border: none; border-radius: 5px; font-size: 16px; font-weight: bold; cursor: pointer;'
                    }
                }) }}
            </div>
        {{ form_end(form) }}

        <div class="back-to-login">
            <a href="{{ path('app_login') }}" style="color: #007bff; text-decoration: none;">Retour à la connexion</a>
        </div>
    </div>
</div>
{% endblock %}