{% extends 'baseadmin.html.twig' %}

{% block title %}{{ game ? 'Edit Game' : 'Add New Game' }}{% endblock %}

{% block body %}
    <!-- Display Flash Messages -->
    {% for label, messages in app.flashes %}
        {% for message in messages %}
            <div class="flash-{{ label }}">
                {{ message }}
            </div>
        {% endfor %}
    {% endfor %}

    <div class="details">
        <div class="recentOrders">
            <div class="cardHeader">
                <h2>{{ game ? 'Edit Game' : 'Add New Game' }}</h2>
                <a href="{{ path('admin_games_dashboard') }}" class="btn">Back to Dashboard</a>
            </div>

            {{ form_start(form) }}
                <div class="form-group">
                    {{ form_label(form.game_name) }}
                    {{ form_widget(form.game_name) }}
                    {{ form_errors(form.game_name) }}
                </div>

                <div class="form-group">
                    {{ form_label(form.image_path) }}
                    {{ form_widget(form.image_path) }}
                    {{ form_errors(form.image_path) }}
                    {% if game and game.getImagePath() %}
                        <p>Current Image: <img src="http://localhost/img/games/{{ game.getImagePath() }}" alt="{{ game.getGameName() }}" style="max-width: 200px; margin-top: 10px;"></p>
                    {% endif %}
                </div>

                <div class="form-group">
                    {{ form_label(form.game_type) }}
                    {{ form_widget(form.game_type) }}
                    {{ form_errors(form.game_type) }}
                </div>

                <div class="form-group">
                    {{ form_widget(form.submit, {'attr': {'class': 'btn'}}) }}
                </div>
            {{ form_end(form) }}
        </div>
    </div>

    <!-- Custom CSS -->
    <style>
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .form-group input, .form-group select {
            width: 100%;
            padding: 8px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }
        .btn {
            padding: 10px 20px;
            background: #03a9f4;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .flash-success {
            color: green;
            padding: 10px;
            margin: 10px 0;
            background: #e0f7e0;
            border-radius: 5px;
        }
        .flash-error {
            color: red;
            padding: 10px;
            margin: 10px 0;
            background: #ffe0e0;
            border-radius: 5px;
        }
    </style>
{% endblock %}